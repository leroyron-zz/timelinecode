{"version":3,"sources":["../../../node_modules/browser-pack/_prelude.js","index.ts","timeline.code.ts","timeline.custom.ts","timeline.scale.ts","timeline.ts"],"names":[],"mappings":"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","file":"timelinecode.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","import { timeline } from \"./timeline\";\nimport \"./timeline.code\";\nimport \"./timeline.scale\";\nimport \"./timeline.custom\";\n\n/** \n * User: Use new TIMELINE() - {name:, length:}\n * @function TIMELINE - set name and/or length buffer/time of timeline\n */\n/** TIMELINE entry */\nexport = function TIMELINE() {\n    var options = new Array(\n        {'name': \"timeline\"},\n        {'length': !isNaN(arguments[0]) ? arguments[0] | 0 : 1000}\n    )\n\n    new timeline.construct(this, arguments, options)\n}\n","import { timeline } from \"./timeline\";\n/** User: Use .code() - to set up the GUI and access for the timeline */\nexport class code {\n    /**\n     * @param This - The object Modal\n     * @param args - Object arguements{} thrown in by User:\n     */\n    constructor(This: object, args: any) {\n        var options = new Array(\n            {'code': {}},\n            {'gui': [\n                {'container': typeof document != 'undefined' ? document.body : null},// nodejs requires typeof 'undefined'\n                {'x': 0},\n                {'y': 0},\n                {'width': undefined},\n                {'height': undefined},\n                {'ctx': {}}\n            ]},\n            {'access': access} \n        )\n        /**\n         * User: Use .access() control the behavior and Data of timeline\n         */\n        function access () { new accessChain(this, arguments); return this }\n        \n        new timeline.construct(This, args, options)\n    }\n}\ntimeline.construct.addon.push({name: \"code\", class: code})\n\nclass accessChain {\n    /**\n     * User: Use .access() control the behavior and Data of timeline\n     * @param This - The object Modal\n     * @param args - Object arguements{} thrown in by User:\n     */\n    constructor(This: object, args: any) {\n        var options = new Array(\n            {'access': [\n                {'continuance': true},\n                {'skip': 0}, \n                {'rCount': 0}, \n                {'tCount': 0}, \n                {'revert': true}, \n                {'mCount': 0}, \n                {'leap': -999999}, \n                {'reset': false}\n            ]}\n        )\n        \n        new timeline.construct(This, args, options)\n    }\n}","import { timeline } from \"./timeline\";\n/** User: Use .custom() - ... */\nexport class custom {\n    /**\n    * @param This - The object Modal\n    * @param args - Object arguements{} thrown in by User:\n    */\n    constructor(This: object, args: any) {\n        var date = new Date()\n        var options = new Array(\n            {'custom1': [\n                {'gui': [\n                    {'container': typeof document != 'undefined' ? \n                    document.body : null},\n                    {'x': 0},\n                    {'y': 0},\n                    {'width': undefined},\n                    {'height': undefined},\n                    {'ctx': {}}\n                ]}\n            ]},\n            {'custom2': {}}\n        )\n        \n        new timeline.construct(This, args, options)\n    }\n}\ntimeline.construct.addon.push({name: \"custom\", class: custom})","import { timeline } from \"./timeline\";\n/** User: Use .scale() - to set up the GUI, scale and calendar functionality for timeline control */\nexport class scale {\n    /**\n     * @param This - The object Modal\n     * @param args - Object arguements{} thrown in by User:\n     */\n    constructor(This: object, args: any) {\n        var date = new Date()\n        var options = new Array(\n            {'scale': [\n                {'gui': [\n                    {'container': typeof document != 'undefined' ? document.body : null},\n                    {'x': 0},\n                    {'y': 0},\n                    {'width': undefined},\n                    {'height': undefined},\n                    {'ctx': {}}\n                ]},\n                {'phase':'year'}\n            ]},\n            {'current': [\n                {'year': date.getFullYear()}, \n                {'month': date.getMonth() + 1},\n                {'day': date.getDate() + 1},\n                {'hour': date.getHours()},\n                {'minute': date.getMinutes()},\n                {'second': date.getSeconds()},\n                {'millisecond': date.getMilliseconds() / 10 >> 0},\n                {'hour24Format': false}\n            ]}\n        )\n        \n        new timeline.construct(This, args, options)\n    }\n}\ntimeline.construct.addon.push({name: \"scale\", class: scale})","/** Dev: Use .construct() - flexable object Modal builder - for users to throw in objects {} */\nexport namespace timeline {\n    /** Dev: Use .addon() - Add your class to The object Modal chained modularity */\n    export class construct {\n        /** Dev: Use .push() - Add a {name: <string> and class: <class>} to Array for chained modal build  */\n        static addon: Array<any> = [];\n        // Object Oriented Class Constructor\n        // Pair up object arguements\n        /**\n         * @param This - The object Modal\n         * @param args - Object arguements{} thrown in by User:\n         * @param options - The options [{}] set by Dev: to pair with arguements{} thrown in by User:\n         */\n        constructor(This: object, args: any, options: Array<any>) {\n            var construct = function (This: object, args: any, options: Array<any>) {\n                for (var o = 0; o < options.length; o++) {\n                    var option = options[o]\n                    var key = Object.keys(option)[0]\n                    This[key] = option[key]\n                    if (Array.isArray(option[key])) {\n                        construct(This[key] = {}, args, option[key])\n                    } else {\n                        for (var a = 0; a < args.length; a++) {\n                            var arg = args[a]\n                            if (typeof arg == 'object') {\n                                Object.keys(arg).forEach(function (key: any) {\n                                    if (option[key]) { \n                                        This[key] = arg[key]\n                                    }\n                                });\n                            }\n                        }\n                    }\n                }\n            }\n            construct(This, args, options)\n            new addon(This)\n        }\n    }\n\n    /**\n     * @param This - The object Modal building for chained modularity\n     */\n    class addon {\n        /**\n         * @param This - The object Modal building for chained modularity\n         */\n        constructor (This: object){\n            for (var a = 0; a < construct.addon.length; a++) {\n                if (!This[construct.addon[a].name])\n                /**\n                 * @param _name - The name of the addon\n                 * @param _class - The class of the addon\n                 */\n                (function (_name, _class) {\n                    /** chained name .() */\n                    var methodAddonName = _name\n                    /** chained class */\n                    var constructClass = _class\n                    /** index just incase */\n                    var index = a\n                    /**\n                     * ...\n                     */\n                    This[methodAddonName] = function () {\n                        // construct.addon.splice(index, 1)\n                        new constructClass(this, arguments)\n                        /** return modal */\n                        return this\n                    }\n                })(construct.addon[a].name, construct.addon[a].class)\n             }\n        }\n    }\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJpbmRleC50cyIsInRpbWVsaW5lLmNvZGUudHMiLCJ0aW1lbGluZS5jdXN0b20udHMiLCJ0aW1lbGluZS5zY2FsZS50cyIsInRpbWVsaW5lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSx5QkFBc0M7QUFDdEMsUUFBeUI7QUFDekIsUUFBMEI7QUFDMUIsUUFBMkI7QUFPM0IsaUJBQVM7QUFDTCxRQUFJLEFBQU8sVUFBRyxJQUFJLEFBQUssTUFDbkIsRUFBQyxBQUFNLFFBQUUsQUFBVSxBQUFDLGNBQ3BCLEVBQUMsQUFBUSxVQUFFLENBQUMsQUFBSyxNQUFDLEFBQVMsVUFBQyxBQUFDLEFBQUMsQUFBQyxBQUFDLEFBQUMsTUFBQyxBQUFTLFVBQUMsQUFBQyxBQUFDLEtBQUcsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFJLEFBQUMsQUFDN0Q7QUFFRCxRQUFJLFdBQVEsU0FBQyxBQUFTLFVBQUMsQUFBSSxNQUFFLEFBQVMsV0FBRSxBQUFPLEFBQUMsQUFDcEQ7QUFBQzs7Ozs7O0FDakJELHlCQUFzQztBQUN0QyxBQUF3RTtBQUN4RTtBQUNJLEFBR0c7Ozs7QUFDSCxrQkFBWSxBQUFZLE1BQUUsQUFBUztBQUMvQixZQUFJLEFBQU8sVUFBRyxJQUFJLEFBQUssTUFDbkIsRUFBQyxBQUFNLFFBQUUsQUFBRSxBQUFDLE1BQ1osRUFBQyxBQUFLLE9BQUUsQ0FDSixFQUFDLEFBQVcsYUFBRSxPQUFPLEFBQVEsWUFBSSxBQUFXLEFBQUMsQUFBQyxjQUFDLEFBQVEsU0FBQyxBQUFJLEFBQUMsQUFBQyxPQUFDLEFBQUksQUFBQyxRQUNwRSxFQUFDLEFBQUcsS0FBRSxBQUFDLEFBQUMsS0FDUixFQUFDLEFBQUcsS0FBRSxBQUFDLEFBQUMsS0FDUixFQUFDLEFBQU8sU0FBRSxBQUFTLEFBQUMsYUFDcEIsRUFBQyxBQUFRLFVBQUUsQUFBUyxBQUFDLGFBQ3JCLEVB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QVMsVUFBQyxBQUFLLE1BQUMsQUFBQyxBQUFDLEdBQUMsQUFBSSxNQUFFLEFBQVMsVUFBQyxBQUFLLE1BQUMsQUFBQyxBQUFDLEdBQUMsQUFBSyxBQUFDLEFBQ3hEO0FBQUMsQUFDTjtBQUFDO0FBQ0wsZUFBQSxBQUFDO0FBOUJELEFBOEJDLEFBQ0w7QUFBQyxHQXpFZ0IsQUFBUSxXQUFSLFFBQVEsYUFBUixRQUFRLFdBeUV4QiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9cmV0dXJuIGV9KSgpIiwiaW1wb3J0IHsgdGltZWxpbmUgfSBmcm9tIFwiLi90aW1lbGluZVwiO1xuaW1wb3J0IFwiLi90aW1lbGluZS5jb2RlXCI7XG5pbXBvcnQgXCIuL3RpbWVsaW5lLnNjYWxlXCI7XG5pbXBvcnQgXCIuL3RpbWVsaW5lLmN1c3RvbVwiO1xuXG4vKiogXG4gKiBVc2VyOiBVc2UgbmV3IFRJTUVMSU5FKCkgLSB7bmFtZTosIGxlbmd0aDp9XG4gKiBAZnVuY3Rpb24gVElNRUxJTkUgLSBzZXQgbmFtZSBhbmQvb3IgbGVuZ3RoIGJ1ZmZlci90aW1lIG9mIHRpbWVsaW5lXG4gKi9cbi8qKiBUSU1FTElORSBlbnRyeSAqL1xuZXhwb3J0ID0gZnVuY3Rpb24gVElNRUxJTkUoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBuZXcgQXJyYXkoXG4gICAgICAgIHsnbmFtZSc6IFwidGltZWxpbmVcIn0sXG4gICAgICAgIHsnbGVuZ3RoJzogIWlzTmFOKGFyZ3VtZW50c1swXSkgPyBhcmd1bWVudHNbMF0gfCAwIDogMTAwMH1cbiAgICApXG5cbiAgICBuZXcgdGltZWxpbmUuY29uc3RydWN0KHRoaXMsIGFyZ3VtZW50cywgb3B0aW9ucylcbn1cbiIsImltcG9ydCB7IHRpbWVsaW5lIH0gZnJvbSBcIi4vdGltZWxpbmVcIjtcbi8qKiBVc2VyOiBVc2UgLmNvZGUoKSAtIHRvIHNldCB1cCB0aGUgR1VJIGFuZCBhY2Nlc3MgZm9yIHRoZSB0aW1lbGluZSAqL1xuZXhwb3J0IGNsYXNzIGNvZGUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBUaGlzIC0gVGhlIG9iamVjdCBNb2RhbFxuICAgICAqIEBwYXJhbSBhcmdzIC0gT2JqZWN0IGFyZ3VlbWVudHN7fSB0aHJvd24gaW4gYnkgVXNlcjpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihUaGlzOiBvYmplY3QsIGFyZ3M6IGFueSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG5ldyBBcnJheShcbiAgICAgICAgICAgIHsnY29kZSc6IHt9fSxcbiAgICAgICAgICAgIHsnZ3VpJzogW1xuICAgICAgICAgICAgICAgIHsnY29udGFpbmVyJzogdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnID8gZG9jdW1lbnQuYm9keSA6IG51bGx9LC8vIG5vZGVqcyByZXF1aXJlcyB0eXBlb2YgJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICB7J3gnOiAwfSxcbiAgICAgICAgICAgICAgICB7J3knOiAwfSxcbiAgICAgICAgICAgICAgICB7J3dpZHRoJzogdW5kZWZpbmVkfSxcbiAgICAgICAgICAgICAgICB7J2hlaWdodCc6IHVuZGVmaW5lZH0sXG4gICAgICAgICAgICAgICAgeydjdHgnOiB7fX1cbiAgICAgICAgICAgIF19LFxuICAgICAgICAgICAgeydhY2Nlc3MnOiBhY2Nlc3N9IFxuICAgICAgICApXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VyOiBVc2UgLmFjY2VzcygpIGNvbnRyb2wgdGhlIGJlaGF2aW9yIGFuZCBEYXRhIG9mIHRpbWVsaW5lXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhY2Nlc3MgKCkgeyBuZXcgYWNjZXNzQ2hhaW4odGhpcywgYXJndW1lbnRzKTsgcmV0dXJuIHRoaXMgfVxuICAgICAgICBcbiAgICAgICAgbmV3IHRpbWVsaW5lLmNvbnN0cnVjdChUaGlzLCBhcmdzLCBvcHRpb25zKVxuICAgIH1cbn1cbnRpbWVsaW5lLmNvbnN0cnVjdC5hZGRvbi5wdXNoKHtuYW1lOiBcImNvZGVcIiwgY2xhc3M6IGNvZGV9KVxuXG5jbGFzcyBhY2Nlc3NDaGFpbiB7XG4gICAgLyoqXG4gICAgICogVXNlcjogVXNlIC5hY2Nlc3MoKSBjb250cm9sIHRoZSBiZWhhdmlvciBhbmQgRGF0YSBvZiB0aW1lbGluZVxuICAgICAqIEBwYXJhbSBUaGlzIC0gVGhlIG9iamVjdCBNb2RhbFxuICAgICAqIEBwYXJhbSBhcmdzIC0gT2JqZWN0IGFyZ3VlbWVudHN7fSB0aHJvd24gaW4gYnkgVXNlcjpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihUaGlzOiBvYmplY3QsIGFyZ3M6IGFueSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IG5ldyBBcnJheShcbiAgICAgICAgICAgIHsnYWNjZXNzJzogW1xuICAgICAgICAgICAgICAgIHsnY29udGludWFuY2UnOiB0cnVlfSxcbiAgICAgICAgICAgICAgICB7J3NraXAnOiAwfSwgXG4gICAgICAgICAgICAgICAgeydyQ291bnQnOiAwfSwgXG4gICAgICAgICAgICAgICAgeyd0Q291bnQnOiAwfSwgXG4gICAgICAgICAgICAgICAgeydyZXZlcnQnOiB0cnVlfSwgXG4gICAgICAgICAgICAgICAgeydtQ291bnQnOiAwfSwgXG4gICAgICAgICAgICAgICAgeydsZWFwJzogLTk5OTk5OX0sIFxuICAgICAgICAgICAgICAgIHsncmVzZXQnOiBmYWxzZX1cbiAgICAgICAgICAgIF19XG4gICAgICAgIClcbiAgICAgICAgXG4gICAgICAgIG5ldyB0aW1lbGluZS5jb25zdHJ1Y3QoVGhpcywgYXJncywgb3B0aW9ucylcbiAgICB9XG59IiwiaW1wb3J0IHsgdGltZWxpbmUgfSBmcm9tIFwiLi90aW1lbGluZVwiO1xuLyoqIFVzZXI6IFVzZSAuY3VzdG9tKCkgLSAuLi4gKi9cbmV4cG9ydCBjbGFzcyBjdXN0b20ge1xuICAgIC8qKlxuICAgICogQHBhcmFtIFRoaXMgLSBUaGUgb2JqZWN0IE1vZGFsXG4gICAgKiBAcGFyYW0gYXJncyAtIE9iamVjdCBhcmd1ZW1lbnRze30gdGhyb3duIGluIGJ5IFVzZXI6XG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihUaGlzOiBvYmplY3QsIGFyZ3M6IGFueSkge1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKClcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBuZXcgQXJyYXkoXG4gICAgICAgICAgICB7J2N1c3RvbTEnOiBbXG4gICAgICAgICAgICAgICAgeydndWknOiBbXG4gICAgICAgICAgICAgICAgICAgIHsnY29udGFpbmVyJzogdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnID8gXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkgOiBudWxsfSxcbiAgICAgICAgICAgICAgICAgICAgeyd4JzogMH0sXG4gICAgICAgICAgICAgICAgICAgIHsneSc6IDB9LFxuICAgICAgICAgICAgICAgICAgICB7J3dpZHRoJzogdW5kZWZpbmVkfSxcbiAgICAgICAgICAgICAgICAgICAgeydoZWlnaHQnOiB1bmRlZmluZWR9LFxuICAgICAgICAgICAgICAgICAgICB7J2N0eCc6IHt9fVxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICBdfSxcbiAgICAgICAgICAgIHsnY3VzdG9tMic6IHt9fVxuICAgICAgICApXG4gICAgICAgIFxuICAgICAgICBuZXcgdGltZWxpbmUuY29uc3RydWN0KFRoaXMsIGFyZ3MsIG9wdGlvbnMpXG4gICAgfVxufVxudGltZWxpbmUuY29uc3RydWN0LmFkZG9uLnB1c2goe25hbWU6IFwiY3VzdG9tXCIsIGNsYXNzOiBjdXN0b219KSIsImltcG9ydCB7IHRpbWVsaW5lIH0gZnJvbSBcIi4vdGltZWxpbmVcIjtcbi8qKiBVc2VyOiBVc2UgLnNjYWxlKCkgLSB0byBzZXQgdXAgdGhlIEdVSSwgc2NhbGUgYW5kIGNhbGVuZGFyIGZ1bmN0aW9uYWxpdHkgZm9yIHRpbWVsaW5lIGNvbnRyb2wgKi9cbmV4cG9ydCBjbGFzcyBzY2FsZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIFRoaXMgLSBUaGUgb2JqZWN0IE1vZGFsXG4gICAgICogQHBhcmFtIGFyZ3MgLSBPYmplY3QgYXJndWVtZW50c3t9IHRocm93biBpbiBieSBVc2VyOlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFRoaXM6IG9iamVjdCwgYXJnczogYW55KSB7XG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKVxuICAgICAgICB2YXIgb3B0aW9ucyA9IG5ldyBBcnJheShcbiAgICAgICAgICAgIHsnc2NhbGUnOiBbXG4gICAgICAgICAgICAgICAgeydndWknOiBbXG4gICAgICAgICAgICAgICAgICAgIHsnY29udGFpbmVyJzogdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnID8gZG9jdW1lbnQuYm9keSA6IG51bGx9LFxuICAgICAgICAgICAgICAgICAgICB7J3gnOiAwfSxcbiAgICAgICAgICAgICAgICAgICAgeyd5JzogMH0sXG4gICAgICAgICAgICAgICAgICAgIHsnd2lkdGgnOiB1bmRlZmluZWR9LFxuICAgICAgICAgICAgICAgICAgICB7J2hlaWdodCc6IHVuZGVmaW5lZH0sXG4gICAgICAgICAgICAgICAgICAgIHsnY3R4Jzoge319XG4gICAgICAgICAgICAgICAgXX0sXG4gICAgICAgICAgICAgICAgeydwaGFzZSc6J3llYXInfVxuICAgICAgICAgICAgXX0sXG4gICAgICAgICAgICB7J2N1cnJlbnQnOiBbXG4gICAgICAgICAgICAgICAgeyd5ZWFyJzogZGF0ZS5nZXRGdWxsWWVhcigpfSwgXG4gICAgICAgICAgICAgICAgeydtb250aCc6IGRhdGUuZ2V0TW9udGgoKSArIDF9LFxuICAgICAgICAgICAgICAgIHsnZGF5JzogZGF0ZS5nZXREYXRlKCkgKyAxfSxcbiAgICAgICAgICAgICAgICB7J2hvdXInOiBkYXRlLmdldEhvdXJzKCl9LFxuICAgICAgICAgICAgICAgIHsnbWludXRlJzogZGF0ZS5nZXRNaW51dGVzKCl9LFxuICAgICAgICAgICAgICAgIHsnc2Vjb25kJzogZGF0ZS5nZXRTZWNvbmRzKCl9LFxuICAgICAgICAgICAgICAgIHsnbWlsbGlzZWNvbmQnOiBkYXRlLmdldE1pbGxpc2Vjb25kcygpIC8gMTAgPj4gMH0sXG4gICAgICAgICAgICAgICAgeydob3VyMjRGb3JtYXQnOiBmYWxzZX1cbiAgICAgICAgICAgIF19XG4gICAgICAgIClcbiAgICAgICAgXG4gICAgICAgIG5ldyB0aW1lbGluZS5jb25zdHJ1Y3QoVGhpcywgYXJncywgb3B0aW9ucylcbiAgICB9XG59XG50aW1lbGluZS5jb25zdHJ1Y3QuYWRkb24ucHVzaCh7bmFtZTogXCJzY2FsZVwiLCBjbGFzczogc2NhbGV9KSIsIi8qKiBEZXY6IFVzZSAuY29uc3RydWN0KCkgLSBmbGV4YWJsZSBvYmplY3QgTW9kYWwgYnVpbGRlciAtIGZvciB1c2VycyB0byB0aHJvdyBpbiBvYmplY3RzIHt9ICovXG5leHBvcnQgbmFtZXNwYWNlIHRpbWVsaW5lIHtcbiAgICAvKiogRGV2OiBVc2UgLmFkZG9uKCkgLSBBZGQgeW91ciBjbGFzcyB0byBUaGUgb2JqZWN0IE1vZGFsIGNoYWluZWQgbW9kdWxhcml0eSAqL1xuICAgIGV4cG9ydCBjbGFzcyBjb25zdHJ1Y3Qge1xuICAgICAgICAvKiogRGV2OiBVc2UgLnB1c2goKSAtIEFkZCBhIHtuYW1lOiA8c3RyaW5nPiBhbmQgY2xhc3M6IDxjbGFzcz59IHRvIEFycmF5IGZvciBjaGFpbmVkIG1vZGFsIGJ1aWxkICAqL1xuICAgICAgICBzdGF0aWMgYWRkb246IEFycmF5PGFueT4gPSBbXTtcbiAgICAgICAgLy8gT2JqZWN0IE9yaWVudGVkIENsYXNzIENvbnN0cnVjdG9yXG4gICAgICAgIC8vIFBhaXIgdXAgb2JqZWN0IGFyZ3VlbWVudHNcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBUaGlzIC0gVGhlIG9iamVjdCBNb2RhbFxuICAgICAgICAgKiBAcGFyYW0gYXJncyAtIE9iamVjdCBhcmd1ZW1lbnRze30gdGhyb3duIGluIGJ5IFVzZXI6XG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgW3t9XSBzZXQgYnkgRGV2OiB0byBwYWlyIHdpdGggYXJndWVtZW50c3t9IHRocm93biBpbiBieSBVc2VyOlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IoVGhpczogb2JqZWN0LCBhcmdzOiBhbnksIG9wdGlvbnM6IEFycmF5PGFueT4pIHtcbiAgICAgICAgICAgIHZhciBjb25zdHJ1Y3QgPSBmdW5jdGlvbiAoVGhpczogb2JqZWN0LCBhcmdzOiBhbnksIG9wdGlvbnM6IEFycmF5PGFueT4pIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBvID0gMDsgbyA8IG9wdGlvbnMubGVuZ3RoOyBvKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNbb11cbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IE9iamVjdC5rZXlzKG9wdGlvbilbMF1cbiAgICAgICAgICAgICAgICAgICAgVGhpc1trZXldID0gb3B0aW9uW2tleV1cbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9uW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3QoVGhpc1trZXldID0ge30sIGFyZ3MsIG9wdGlvbltrZXldKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBhcmdzLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3NbYV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZyA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhhcmcpLmZvckVhY2goZnVuY3Rpb24gKGtleTogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uW2tleV0pIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpc1trZXldID0gYXJnW2tleV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3RydWN0KFRoaXMsIGFyZ3MsIG9wdGlvbnMpXG4gICAgICAgICAgICBuZXcgYWRkb24oVGhpcylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBUaGlzIC0gVGhlIG9iamVjdCBNb2RhbCBidWlsZGluZyBmb3IgY2hhaW5lZCBtb2R1bGFyaXR5XG4gICAgICovXG4gICAgY2xhc3MgYWRkb24ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIFRoaXMgLSBUaGUgb2JqZWN0IE1vZGFsIGJ1aWxkaW5nIGZvciBjaGFpbmVkIG1vZHVsYXJpdHlcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yIChUaGlzOiBvYmplY3Qpe1xuICAgICAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBjb25zdHJ1Y3QuYWRkb24ubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIVRoaXNbY29uc3RydWN0LmFkZG9uW2FdLm5hbWVdKVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBfbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhZGRvblxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBfY2xhc3MgLSBUaGUgY2xhc3Mgb2YgdGhlIGFkZG9uXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgKGZ1bmN0aW9uIChfbmFtZSwgX2NsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBjaGFpbmVkIG5hbWUgLigpICovXG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXRob2RBZGRvbk5hbWUgPSBfbmFtZVxuICAgICAgICAgICAgICAgICAgICAvKiogY2hhaW5lZCBjbGFzcyAqL1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29uc3RydWN0Q2xhc3MgPSBfY2xhc3NcbiAgICAgICAgICAgICAgICAgICAgLyoqIGluZGV4IGp1c3QgaW5jYXNlICovXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGFcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIC4uLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgVGhpc1ttZXRob2RBZGRvbk5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3RydWN0LmFkZG9uLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBjb25zdHJ1Y3RDbGFzcyh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogcmV0dXJuIG1vZGFsICovXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkoY29uc3RydWN0LmFkZG9uW2FdLm5hbWUsIGNvbnN0cnVjdC5hZGRvblthXS5jbGFzcylcbiAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59Il19"}